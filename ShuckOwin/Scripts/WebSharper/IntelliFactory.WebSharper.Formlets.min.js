(function(){var $$=this,$=this.IntelliFactory.Runtime,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_0,_1,_2;$.Define($$,{IntelliFactory:{WebSharper:{Formlets:{Body:$.Class({},{New:function(_3,_4){return $.New(c,{Element:_3,Label:_4});}}),Controls:{Button:function(_5){var _6;_6=function(){return f.Button(g.ofArray([f.Text(_5)]));};return h.ElementButton(_6);},Checkbox:function(_8){return h.CheckboxControl(false,_8);},CheckboxControl:function(_9,_){var ba;ba=function(){var bc,bd,be,bf,bg,bh,bi,bo,bp,bq,br,bs,bt,bu;bc=j.New($.New(m,{$:0,$0:_}));if(_9){bf=f.Attr();be=g.ofArray([bf.NewAttr("disabled","disabled")]);}else{be=$.New(n,{$:0});}bd=be;bh=f.Attr();bg=o.add(f.Input(g.ofArray([bh.NewAttr("type","checkbox"),f.Attr().Class("inputCheckbox")])),bd);bi=function(bj){return function(){var bl,bm,bn;if(!_9){bm=p(bj.get_Body()).prop("checked");bn=$.New(m,{$:0,$0:bm});bl=bc.Trigger(bn);}else{bl=null;}return bl;};};q.Events().OnClick(bi,bg);bo=bg;if(_){bq=bo["HtmlProvider@33"];br=bo.get_Body();bp=bq.SetAttribute(br,"defaultChecked","true");}else{bs=bo["HtmlProvider@33"];bt=bo.get_Body();bp=bs.RemoveAttribute(bt,"checked");}bu=function(){var bw,bx,by,bz,bA,bB,bC;if(_){bx=bo["HtmlProvider@33"];by=bo.get_Body();bw=bx.SetProperty(by,"checked",true);}else{bz=bo["HtmlProvider@33"];bA=bo.get_Body();bz.RemoveAttribute(bA,"checked");bB=bo["HtmlProvider@33"];bC=bo.get_Body();bw=bB.SetProperty(bC,"checked",false);}return bc.Trigger($.New(m,{$:0,$0:_}));};bu(null);return[bo,bu,bc];};return r.MkFormlet(ba);},CheckboxGroup:function(bC){return h.CheckboxGroupControl(false,bC);},CheckboxGroupControl:function(bD,bE){var bF,bT,bX,bZ,b0;bF=function(bG){var bH,bI,bJ,bK,bL,bP,bQ,bS;bH=bG[0];bI=bG[1];bJ=bG[2];bK=h.CheckboxControl(bD,bJ);bL=function(){var bN,bO;bN=g.ofArray([f.Text(bH)]);bO=f.Tags();return bO.NewTag("label",bN);};bP={$:1,$0:bL};bQ=function(bR){return[bR,bI];};bS=s.WithLabel(bP,bK);return s.Map(bQ,bS);};bT=function(bU){var bV,bW;bV=bU[0];bW=bU[1];return bV?{$:1,$0:bW}:{$:0};};bX=function(bY){return g.choose(bT,bY);};bZ=g.map(bF,bE);b0=s.Sequence(bZ);return s.Map(bX,b0);},ElementButton:function(b1){var b2;b2=function(){var b4,b5,b6,b7,b_,b$;b4=j.New($.New(m,{$:1,$0:$.New(n,{$:0})}));b5={contents:0};b6=b1(null);b7=function(){return function(){b4.Trigger($.New(m,{$:0,$0:b5.contents}));return t.Increment(b5);};};q.Events().OnClick(b7,b6);b_=b6;b$=function(){b5.contents=0;return b4.Trigger($.New(m,{$:1,$0:$.New(n,{$:0})}));};return[b_,b$,b4];};return r.MkFormlet(b2);},Input:function(cb){return h.InputField(false,"text",u.InputTextClass(),cb);},InputControl:function(cc,cd){var ce;ce=function(){var cg,ch,ci;cg=j.New($.New(m,{$:0,$0:cc}));ch=cd(cg);ch.set_Value(cc);ci=function(){ch.set_Value(cc);return cg.Trigger($.New(m,{$:0,$0:cc}));};return[ch,ci,cg];};return r.MkFormlet(ce);},InputField:function(ck,cl,cm,cn){return h.InputControl(cn,function(co){var cp,cq,cr,cs,ct,cu,cv,cw;if(ck){cr=f.Attr();cq=g.ofArray([cr.NewAttr("readonly","readonly")]);}else{cq=$.New(n,{$:0});}cp=cq;ct=f.Attr();cs=g.ofArray([ct.NewAttr("type",cl),f.Attr().Class(cm)]);cu=g.append(cs,cp);cv=f.Input(cu);cw=function(){return!ck?co.Trigger($.New(m,{$:0,$0:cv.get_Value()})):null;};h.OnTextChange(cw,cv);return cv;});},OnTextChange:function(cy,cz){var cA,cB,cE,cG;cA={contents:cz.get_Value()};cB=function(){var cD;if(cz.get_Value()!==cA.contents){cA.contents=cz.get_Value();cD=cy(null);}else{cD=null;}return cD;};cE=function(){return cB(null);};q.Events().OnChange(cE,cz);cG=function(){return function(){return cB(null);};};q.Events().OnKeyUp(cG,cz);cz.Dom.oninput=cB;return;},Password:function(cJ){return h.InputField(false,"password","inputPassword",cJ);},RadioButtonGroup:function(cK,cL){return h.RadioButtonGroupControl(false,cK,cL);},RadioButtonGroupControl:function(cM,cN,cO){var cP;cP=function(){var cR,cS,cT,cU,cV,cZ,c0,c6,c7,c9,c_,dh,di,dv,dC,dP,dQ,dR,dS;cR="id"+v.round(v.random()*100000000);if(cN.$==0){cT={$:0};}else{cU=cN.$0;cV=function(cW){return function(cX){var cY;cX[0];cY=cX[1];return[cW,cY];};};cZ=g.mapi(cV,cO);c0=function(c1){var c2,c3,c4,c5;c2=c1[0];c3=c1[1];if(cN.$==0){c4={$:0};}else{c5=cN.$0;c4=c5===c2?{$:1,$0:$.New(m,{$:0,$0:c3})}:{$:0};}return c4;};cT=w.tryPick(c0,cZ);}cS=cT;c6=j.New($.New(m,{$:1,$0:$.New(n,{$:0})}));c7=function(c8){return j.New(c8);};c9=x.Maybe(c6,c7,cS);c_=function(c$){var da,db,dc,dd,de,df,dg;da=c$[0];db=c$[1];dd=f.Attr();de=f.Attr();if(cM){dg=f.Attr();df=g.ofArray([dg.NewAttr("disabled","disabled")]);}else{df=$.New(n,{$:0});}dc=o.add(f.Input(g.ofArray([f.Attr().Class("inputRadio"),dd.NewAttr("type","radio"),de.NewAttr("name",cR)])),df);return[dc,da,db];};dh=g.map(c_,cO);di=function(dj,dk,dl){var dm,dn,_do,dp,dq,dr,ds,dt,du;if(cN.$==0){dn=dj["HtmlProvider@33"];_do=dj.get_Body();dn.RemoveAttribute(_do,"checked");dm=c9.Trigger($.New(m,{$:1,$0:$.New(n,{$:0})}));}else{dp=cN.$0;if(dp===dl){dr=dj["HtmlProvider@33"];ds=dj.get_Body();dr.SetProperty(ds,"checked",true);dq=c9.Trigger($.New(m,{$:0,$0:dk}));}else{dt=dj["HtmlProvider@33"];du=dj.get_Body();dq=dt.SetProperty(du,"checked",false);}dm=dq;}return dm;};dv=function(){var dx;dx=function(dy){return function(dz){var dA,dB;dA=dz[0];dz[1];dB=dz[2];return di(dA,dB,dy);};};return w.iteri(dx,dh);};dC=function(dD){return function(dE){var dF,dG,dH,dI,dL;dF=dE[0];dG=dE[1];dH=dE[2];di(dF,dH,dD);dI=function(){return function(){return!cM?c9.Trigger($.New(m,{$:0,$0:dH})):null;};};q.Events().OnClick(dI,dF);dL={$:1,$0:function(){var dN,dO;dN=g.ofArray([f.Text(dG)]);dO=f.Tags();return dO.NewTag("label",dN);}};return $.New(c,{Element:dF,Label:dL});};};dP=g.mapi(dC,dh);dQ=y.FromSequence(dP);dR=$.New(z,{$:0,$0:dQ});dS=r.RX().Return(dR);return $.New(A,{Body:dS,Dispose1:function(){},Notify:function(){return dv(null);},State:c9});};return s.New(cP);},ReadOnlyCheckbox:function(dV){return h.CheckboxControl(true,dV);},ReadOnlyInput:function(dW){return h.InputField(true,"text",u.InputTextClass(),dW);},ReadOnlyRadioButtonGroup:function(dX,dY){return h.RadioButtonGroupControl(true,dX,dY);},ReadOnlySelect:function(dZ,d0){return h.SelectControl(true,dZ,d0);},ReadOnlyTextArea:function(d1){return h.TextAreaControl(true,d1);},Select:function(d2,d3){return h.SelectControl(false,d2,d3);},SelectControl:function(d4,d5,d6){var d7;d7=function(){var d9,d$,ea,eb,ec,ek,el,em,en,eo,ep,eq,er,ew;d9=function(d_){return d_[1];};d$=g.map(d9,d6);ea=B.ofSeq(d$);eb=(d5>=0?d5<d6.get_Length():false)?d5:0;ec=function(ed){return function(ee){var ef,eg,eh,ei,ej;ef=ee[0];ee[1];eg=f.Tags();ei=f.Attr();ej=$$.String(ed);eh=g.ofArray([f.Text(ef),ei.NewAttr("value",ej)]);return eg.NewTag("option",eh);};};ek=g.mapi(ec,d6);el=f.Select(ek);if(d4){eo=f.Attr();en=o.add(el,g.ofArray([eo.NewAttr("disabled","disabled")]));}else{en=el;}em=en;ep=$.New(m,{$:0,$0:B.get(ea,eb)});eq=j.New(ep);er=function(){var et,eu,ev;et=$$.String(eb);eu=em["HtmlProvider@33"];ev=em.get_Body();eu.SetProperty(ev,"value",et);return eq.Trigger(ep);};er(null);ew=function(){var ey,ez,eA,eB;if(!d4){ez=em.get_Value();eA=B.get(ea,ez<<0);eB=$.New(m,{$:0,$0:eA});ey=eq.Trigger(eB);}else{ey=null;}return ey;};q.Events().OnChange(ew,em);er(null);return[em,er,eq];};return r.MkFormlet(d7);},TextArea:function(eC){return h.TextAreaControl(false,eC);},TextAreaControl:function(eD,eE){return h.InputControl(eE,function(eF){var eG,eH,eI,eJ,eK;if(eD){eI=f.Attr();eH=g.ofArray([eI.NewAttr("readonly","readonly")]);}else{eH=$.New(n,{$:0});}eG=eH;eJ=f.TextArea(eG);eK=function(){return!eD?eF.Trigger($.New(m,{$:0,$0:eJ.get_Value()})):null;};h.OnTextChange(eK,eJ);return eJ;});}},CssConstants:{InputTextClass:$.Field(function(){return"inputText";})},Data:{$:function(eM,eN){var eO,eP;eO=r.BaseFormlet();eP=eO.Apply(eM,eN);return r.OfIFormlet(eP);},BaseFormlet:function(){return C.New(r.UtilsProvider());},DefaultLayout:$.Field(function(){return r.Layout().get_Vertical();}),Formlet:$.Class({Build:function(){return this.buildInternal.call(null,null);},MapResult:function(eQ){var eR,eU=this;eR=D.New(function(){var eT,eV,eW,eX;eT=eU.buildInternal.call(null,null);eV=eU.utils.Reactive;eW=eT.State;eX=function(eY){return eQ(eY);};return $.New(A,{Body:eT.Body,Dispose1:eT.Dispose1,Notify:eT.Notify,State:eV.Select(eW,eX)});},eU.layoutInternal,eU.formletBase,eU.utils);return eR;},Render:function(){return this.Run(function(){}).Render();},Run:function(e0){var e1,e2,e3,e4,e5,e8,e9,e_,e$,fa,fb,fc;e1=this.get_ElementInternal();if(e1.$==0){e3=this.formletBase.ApplyLayout(this);e4=e3.Build();e5=F.subscribeTo(e4.State,function(e6){var e7;e7=m.Map(e0,e6);return;});e8=e3.get_Layout().Apply.call(null,e4.Body);if(e8.$==0){e$=r.DefaultLayout().Apply.call(null,e4.Body).$0;fa=e$[0];e_=fa.Element;}else{fb=e8.$0[0];e_=fb.Element;}e9=e_;this.set_ElementInternal({$:1,$0:e9});e2=e9;}else{fc=e1.$0;e2=fc;}return e2;},get_Body:function(){return this.Run(function(){}).get_Body();},get_ElementInternal:function(){return this["ElementInternal@"];},get_Layout:function(){return this.layoutInternal;},set_ElementInternal:function(fe){this["ElementInternal@"]=fe;return;}},{New:function(ff,fg,fh,fi){var fj;fj=$.New(this,E.New());fj.buildInternal=ff;fj.layoutInternal=fg;fj.formletBase=fh;fj.utils=fi;fj["ElementInternal@"]={$:0};return fj;}}),Layout:$.Field(function(){return G.New(H.New({Reactive:I.Default()}));}),MkFormlet:function(fk){var fl,fm,fx;fl=r.BaseFormlet();fm=function(){var fo,fp,fq,fr,fs,fu,fv;fo=fk(null);fp=fo[2];fq=fo[1];fr=fo[0];fs=function(){return fq(null);};fu=r.NewBody(fr,{$:0});fv=y.Set(fu);return $.New(A,{Body:r.RX().Return(fv),Dispose1:function(){return null;},Notify:fs,State:fp});};fx=fl.New(fm);return r.OfIFormlet(fx);},NewBody:function(fy,fz){return c.New(fy,fz);},OfIFormlet:function(fA){var fB;fB=D.New(function(){return fA.Build();},fA.get_Layout(),r.BaseFormlet(),r.UtilsProvider());return r.PropagateRenderFrom(fA,fB);},PropagateRenderFrom:function(fD,fE){fD.hasOwnProperty("Render")?void(fE.Render=fD.Render):null;return fE;},RX:$.Field(function(){return I.Default();}),UtilsProvider:function(){return{Reactive:r.RX(),DefaultLayout:r.DefaultLayout()};},Validator:$.Field(function(){return J.New(K.New());}),ValidatorProvidor:$.Class({Matches:function(fF,fG){return fG.match(new L(fF));}},{New:function(){return $.New(this,{});}})},ElementStore:$.Class({Init:function(){this.store=N.New2();return;},RegisterElement:function(fH,fI){var fJ;fJ=this.store.ContainsKey(fH);return!fJ?this.store.set_Item(fH,fI):null;},Remove:function(fK){var fL,fM;if(this.store.ContainsKey(fK)){(this.store.get_Item(fK))(null);fM=this.store.Remove(fK);fL=void fM;}else{fL=null;}return fL;}},{New:function(){return $.New(this,{});},NewElementStore:function(){var fN;fN=O.New();fN.Init();return fN;}}),Enhance:{Cancel:function(fO,fP){return s.Replace(fO,function(fQ){return fP(fQ)?s.Empty():s.Return(fQ);});},CustomMany:function(fR,fS){var fT,fV,fW,fY,f0,f1,f2,f3,f4,f5,gb,gc,gd,ge,gg,gh;fT=h.ElementButton(function(){return o.add(f.Div(g.ofArray([f.Attr().Class(fR.AddIconClass)])),g.ofArray([f.Div($.New(n,{$:0}))]));});fV=s.InitWith(1,fT);fW=function(){};fY=h.ElementButton(function(){return o.add(f.Div(g.ofArray([f.Attr().Class(fR.RemoveIconClass)])),g.ofArray([f.Div($.New(n,{$:0}))]));});f0=s.Map(fW,fY);f1=s.WithCancelation(fS,f0);f2=r.Layout().get_Horizontal();f3=s.WithLayout(f2,f1);f4=P.Deletable(f3);f5=function(){var f7,f9,f$,ga;f7=function(f8){return g.ofSeq(f8);};f9=P.Many_(fV,function(){return f4;});f$=s.Map(f7,f9);ga=s.WithLayoutOrDefault(f$);return s.ApplyLayout(ga);};gb=j.New($.New(m,{$:0,$0:null}));gc=r.BaseFormlet().FromState(gb);gd=r.OfIFormlet(gc);ge=function(){return gb.Trigger($.New(m,{$:0,$0:null}));};gg=s.Do();gh=gg.Delay(function(){return gg.Bind(gd,function(){return gg.ReturnFrom(f5(null));});});return s.WithNotification(ge,gh);},Deletable:function(gk){return P.Replace(gk,function(gl){var gm,gn;if(gl.$==1){gn=gl.$0;gm=s.Return({$:1,$0:gn});}else{gm=s.ReturnEmpty({$:0});}return gm;});},FormButtonConfiguration:$.Class({},{get_Default:function(){return $.New(Q,{Label:{$:0},Style:{$:0},Class:{$:0}});}}),FormContainerConfiguration:$.Class({},{get_Default:function(){var go;go={$:0};return $.New(R,{Header:{$:0},Padding:S.get_Default(),Description:go,BackgroundColor:{$:0},BorderColor:{$:0},CssClass:{$:0},Style:{$:0}});}}),InputButton:function(gp,gq){var gr;gr=function(){var gt,gu,gv,gx,gy,gz,gA,gD,gE,gF,gG,gH,gI,gJ,gK,gL,gM,gN,gO,gP,gQ,gR,gS;gt=j.New($.New(m,{$:1,$0:$.New(n,{$:0})}));gu={contents:0};gv=x.Maybe("Submit",function(gw){return gw;},gp.Label);gy=f.Attr();gz=f.Attr();gx=o.add(f.Input(g.ofArray([gy.NewAttr("type","button")])),g.ofArray([f.Attr().Class("submitButton"),gz.NewAttr("value",gv)]));gA=function(){return function(){t.Increment(gu);return gt.Trigger($.New(m,{$:0,$0:gu.contents}));};};q.Events().OnClick(gA,gx);gD=gx;if(!gq){gG=gD["HtmlProvider@33"];gH=gD.get_Body();gF=gG.AddClass(gH,"disabledButton");}else{gF=null;}gI=gp.Style;if(gI.$==1){gK=gI.$0;gL=gD["HtmlProvider@33"];gM=gD.get_Body();gJ=gL.SetStyle(gM,gK);}else{gJ=null;}gN=gp.Class;if(gN.$==1){gP=gN.$0;gQ=gD["HtmlProvider@33"];gR=gD.get_Body();gO=gQ.AddClass(gR,gP);}else{gO=null;}gE=gD;gS=function(){gu.contents=0;return gt.Trigger($.New(m,{$:1,$0:$.New(n,{$:0})}));};gt.Trigger($.New(m,{$:1,$0:$.New(n,{$:0})}));return[gE,gS,gt];};return r.MkFormlet(gr);},Many:function(gU){return P.CustomMany(T.get_Default(),gU);},ManyConfiguration:$.Class({},{get_Default:function(){return $.New(T,{AddIconClass:"addIcon",RemoveIconClass:"removeIcon"});}}),Many_:function(gV,gW){var gX,gZ,g1,g3,g4,g5;gX=function(gY){return gW(gY);};gZ=function(g0){return g0;};g1=function(g2){return w.choose(gZ,g2);};g3=s.Map(gX,gV);g4=s.SelectMany(g3);g5=s.FlipBody(g4);return s.Map(g1,g5);},Padding:$.Class({},{get_Default:function(){return $.New(S,{Left:{$:0},Right:{$:0},Top:{$:0},Bottom:{$:0}});}}),Replace:function(g6,g7){var g8,hc;g8=function(g9){var g_,g$,ha,hb;if(g9.$==1){g$=g9.$0;ha=s.FailWith(g$);g_=$.New(m,{$:0,$0:ha});}else{hb=g9.$0;g_=$.New(m,{$:0,$0:g7(hb)});}return g_;};hc=s.MapResult(g8,g6);return s.Switch(hc);},ValidationFrameConfiguration:$.Class({},{get_Default:function(){return $.New(U,{ValidClass:{$:1,$0:"successFormlet"},ValidStyle:{$:0},ErrorClass:{$:1,$0:"errorFormlet"},ErrorStyle:{$:0}});}}),ValidationIconConfiguration:$.Class({},{get_Default:function(){return $.New(V,{ValidIconClass:"validIcon",ErrorIconClass:"errorIcon"});}}),WithCssClass:function(hd,he){var hf;hf=function(hg){var hh,hi;hh=hg["HtmlProvider@33"];hi=hg.get_Body();hh.AddClass(hi,hd);return hg;};return s.MapElement(hf,he);},WithCustomFormContainer:function(hj,hk){var hl,hm;hl=s.ApplyLayout(hk);hm=function(hn){var ho,hp,hq,hv,hw,hx,hy,hF,hG,hH,hM,hN,hO,hQ,hR,hT,hU,hW,hX,hZ,h0,h2,h3,h$,ia,ib,ic,id,ie,_if,ig,ih,ii;ho=hj.Description;hp=$.New(n,{$:0});hq=function(hr){var hs,ht,hu;if(hr.$==1){ht=hr.$0;hs=g.ofArray([ht(null)]);}else{hu=hr.$0;hs=g.ofArray([f.P(g.ofArray([f.Tags().text(hu)]))]);}return hs;};hv=x.Maybe(hp,hq,ho);hw=hj.Header;hx=x.InTable(g.ofArray([g.ofArray([o.add(f.Div(g.ofArray([f.Attr().Class("headerPanel")])),hv)]),g.ofArray([hn])]));hy=function(hz){var hA,hB,hC,hD,hE;if(hz.$==1){hC=hz.$0;hB=hC(null);}else{hD=hz.$0;hB=f.H1(g.ofArray([f.Tags().text(hD)]));}hA=hB;hE=o.add(f.Div(g.ofArray([f.Attr().Class("headerPanel")])),$.New(n,{$:1,$0:hA,$1:hv}));return x.InTable(g.ofArray([g.ofArray([hE]),g.ofArray([hn])]));};hF=x.Maybe(hx,hy,hw);hG=o.add(f.TD(g.ofArray([f.Attr().Class("formlet")])),g.ofArray([hF]));hH=function(hI){var hJ,hK,hL;hJ="border-color: "+hI;hK=hG["HtmlProvider@33"];hL=hG.get_Body();return hK.SetStyle(hL,hJ);};hM=hj.BorderColor;x.Maybe(null,hH,hM);hO=function(hP){return hP;};hQ=hj.BackgroundColor;hR=function(hS){return $$.String(hS)+"px";};hT=hj.Padding.Left;hU=function(hV){return $$.String(hV)+"px";};hW=hj.Padding.Right;hX=function(hY){return $$.String(hY)+"px";};hZ=hj.Padding.Top;h0=function(h1){return $$.String(h1)+"px";};h2=hj.Padding.Bottom;hN=g.ofArray([["background-color",x.MapOption(hO,hQ)],["padding-left",x.MapOption(hR,hT)],["padding-right",x.MapOption(hU,hW)],["padding-top",x.MapOption(hX,hZ)],["padding-bottom",x.MapOption(h0,h2)]]);h3=function(h4){var h5,h6,h7,h8,h9,h_;h5=h4[0];h6=h4[1];if(h6.$==0){h7=null;}else{h8=h6.$0;h9=hG["HtmlProvider@33"];h_=hG.get_Body();h7=h9.SetCss(h_,h5,h8);}return h7;};w.iter(h3,hN);h$=hj.Style;if(h$.$==0){ia=null;}else{ib=h$.$0;ic=hG["HtmlProvider@33"];id=hG.get_Body();ia=ic.SetStyle(id,ib);}ie=hj.CssClass;if(ie.$==0){_if=null;}else{ig=ie.$0;ih=hG["HtmlProvider@33"];ii=hG.get_Body();_if=ih.AddClass(ii,ig);}return f.Table(g.ofArray([f.TBody(g.ofArray([f.TR(g.ofArray([hG]))]))]));};return s.MapElement(hm,hl);},WithCustomResetButton:function(ij,ik){var il,im,_in,io;il=ij.Label;if(il.$==0){_in=$.New(Q,{Label:{$:1,$0:"Reset"},Style:ij.Style,Class:ij.Class});}else{il.$0;_in=ij;}im=_in;io=P.InputButton(im,true);return P.WithResetFormlet(ik,io);},WithCustomSubmitAndResetButtons:function(ip,iq,ir){var is;is=function(it){return function(iu){var iv,iw,ix,iy,iA,iB,iC,iE,iF,iG,iJ,iM;if(iu.$==1){ix=iu.$0;iy=function(){return $.New(m,{$:1,$0:ix});};iA=P.InputButton(ip,false);iw=s.MapResult(iy,iA);}else{iB=iu.$0;iC=function(){return iB;};iE=P.InputButton(ip,true);iw=s.Map(iC,iE);}iv=iw;iF=s.Do();iG=iF.Delay(function(){return iF.Bind(s.LiftResult(P.InputButton(iq,true)),function(iI){iI.$==0?it(null):null;return iF.Return(null);});});iJ=r.$(r.$(s.Return(function(iK){return function(){return iK;};}),iv),iG);iM=r.Layout().get_Horizontal();return s.WithLayout(iM,iJ);};};return P.WithSubmitAndReset(ir,is);},WithCustomSubmitButton:function(iN,iO){var iP,iQ,iR;iP=iN.Label;if(iP.$==0){iR=$.New(Q,{Label:{$:1,$0:"Submit"},Style:iN.Style,Class:iN.Class});}else{iP.$0;iR=iN;}iQ=iR;return P.WithSubmitFormlet(iO,function(iS){var iT,iV,iW;iT=function(){};iV=iS.$==0?true:false;iW=P.InputButton(iQ,iV);return s.Map(iT,iW);});},WithCustomValidationFrame:function(iX,iY){var iZ;iZ=function(i0){return function(i1){var i2,i3;i2=f.Div(g.ofArray([i1.Element]));i3=function(i4){var i5;i5=F.subscribeTo(i0,function(i6){var i7,i8,i9,i_,i$,ja,jb,jc,jd,je,jf,jg,jh,ji,jj,jk,jl,jm,jn,jo,jp,jq,jr,js,jt,ju,jv,jw,jx,jy,jz,jA,jB,jC,jD,jE;if(i6.$==1){i8=i6.$0;i9=iX.ValidClass;if(i9.$==1){i$=i9.$0;ja=i4["HtmlProvider@33"];jb=i4.get_Body();i_=ja.RemoveClass(jb,i$);}else{i_=null;}jc=iX.ErrorClass;if(jc.$==1){je=jc.$0;jf=i4["HtmlProvider@33"];jg=i4.get_Body();jd=jf.AddClass(jg,je);}else{jd=null;}jh=iX.ErrorStyle;if(jh.$==1){jj=jh.$0;jk=i4["HtmlProvider@33"];jl=i4.get_Body();ji=jk.SetStyle(jl,jj);}else{jm=i4["HtmlProvider@33"];jn=i4.get_Body();ji=jm.SetStyle(jn,"");}i7=ji;}else{jo=iX.ErrorClass;if(jo.$==1){jq=jo.$0;jr=i4["HtmlProvider@33"];js=i4.get_Body();jp=jr.RemoveClass(js,jq);}else{jp=null;}jt=iX.ValidClass;if(jt.$==1){jv=jt.$0;jw=i4["HtmlProvider@33"];jx=i4.get_Body();ju=jw.AddClass(jx,jv);}else{ju=null;}jy=iX.ValidStyle;if(jy.$==1){jA=jy.$0;jB=i4["HtmlProvider@33"];jC=i4.get_Body();jz=jB.SetStyle(jC,jA);}else{jD=i4["HtmlProvider@33"];jE=i4.get_Body();jz=jD.SetStyle(jE,"");}i7=jz;}return i7;});return;};o.OnAfterRender(i3,i2);return i2;};};return P.WrapFormlet(iZ,iY);},WithCustomValidationIcon:function(jF,jG){var jH,jI,jU,jV,jX,j1,j2;jH=s.WithLayoutOrDefault(jG);jI=function(jJ){var jK;jK=function(){var jM,jN,jO,jR,jS,jT;if(jJ.$==1){jN=jJ.$0;jO=function(jP){return function(jQ){return jP+" "+jQ;};};jR=w.fold(jO,"",jN);jS=f.Attr();jM=o.add(f.Div(g.ofArray([f.Attr().Class(jF.ErrorIconClass),jS.NewAttr("title",jR)])),g.ofArray([f.Div($.New(n,{$:0}))]));}else{jT=f.Attr();jM=o.add(f.Div(g.ofArray([f.Attr().Class(jF.ValidIconClass),jT.NewAttr("title","")])),g.ofArray([f.Div($.New(n,{$:0}))]));}return jM;};return s.OfElement(jK);};jU=s.Do();jV=function(jW){return m.Join(jW);};jX=jU.Delay(function(){return jU.Bind(s.LiftResult(jH),function(jZ){return jU.Bind(jI(jZ),function(){return jU.Return(jZ);});});});j1=s.MapResult(jV,jX);j2=r.Layout().get_Horizontal();return s.WithLayout(j2,j1);},WithErrorFormlet:function(j3,j4){var j5,j6,j8;j5=s.Do();j6=function(j7){return m.Join(j7);};j8=j5.Delay(function(){return j5.Bind(s.LiftResult(j4),function(j_){var j$,ka,kb;if(j_.$==1){ka=j_.$0;kb=s.Do();j$=kb.Delay(function(){return kb.Bind(j3(ka),function(){return kb.Return(j_);});});}else{j_.$0;j$=s.Return(j_);}return j5.ReturnFrom(j$);});});return s.MapResult(j6,j8);},WithErrorSummary:function(ke,kf){var kg,kq,kr,kt;kg=function(kh){return s.OfElement(function(){var kj,kk,kl,km,ko,kp;kk=g.ofArray([f.Text(ke)]);kl=f.Tags();km=function(kn){return f.LI(g.ofArray([f.Text(kn)]));};ko=g.map(km,kh);kj=g.ofArray([kl.NewTag("legend",kk),f.UL(ko)]);kp=f.Tags();return kp.NewTag("fieldset",kj);});};kq=s.Do();kr=function(ks){return m.Join(ks);};kt=kq.Delay(function(){return kq.Bind(s.LiftResult(kf),function(kv){var kw,kx,ky,kA;if(kv.$==1){kx=kv.$0;ky=function(){return kv;};kA=kg(kx);kw=s.Map(ky,kA);}else{kv.$0;kw=s.Return(kv);}return kq.ReturnFrom(kw);});});return s.MapResult(kr,kt);},WithFormContainer:function(kB){return P.WithCustomFormContainer(R.get_Default(),kB);},WithJsonPost:function(kC,kD){var kE,kF,kG,kH,kI,kJ,kK,kL,kM,kN,kO,kP,kQ,kR,kS,kT,kU,kV,kW,kX,kY,kZ,k0,k1,k2,k3,k4,k$,la,ld;kE=kC.PostUrl;if(kE.$==0){kG=$.New(n,{$:0});}else{kH=kE.$0;kI=f.Attr();kG=g.ofArray([kI.NewAttr("action",kH)]);}kF=kG;kJ=kC.EncodingType;if(kJ.$==0){kL=$.New(n,{$:0});}else{kM=kJ.$0;kN=f.Attr();kL=g.ofArray([kN.NewAttr("enctype",kM)]);}kK=kL;kO=f.Tags();kQ=f.Attr();kR=f.Attr();kS=kC.ParameterName;kP=g.ofArray([kQ.NewAttr("type","hidden"),kR.NewAttr("name",kS)]);kT=kO.NewTag("input",kP);kU=f.Tags();kW=f.Attr();kX=f.Attr();kV=g.ofArray([kW.NewAttr("type","submit"),kX.NewAttr("value","Submit")]);kY=kU.NewTag("input",kV);k0=f.Attr();k1=f.Attr();kZ=$.New(n,{$:1,$0:k0.NewAttr("method","POST"),$1:$.New(n,{$:1,$0:k1.NewAttr("style","display:none"),$1:kF})});k2=g.append(kZ,kK);k3=o.add(f.Form(k2),g.ofArray([kT,kY]));k4=function(k5){var k6,k7,k8,k9,k_;k6=kC.EncodingType;if(k6.$==0){k7=null;}else{k8=k6.$0;if(k8==="multipart/form-data"){k_=p(k5.get_Body()).attr("encoding","multipart/form-data");k9=void k_;}else{k9=null;}k7=k9;}return k7;};o.OnAfterRender(k4,k3);k$=k3;la=function(lb){var lc;lc=W.stringify(lb);p(kT.get_Body()).val(lc);return p(kY.get_Body()).click();};ld=s.Map(la,kD);return f.Div(g.ofArray([k$,ld]));},WithLabel:function(le,lf){return s.WithLabel({$:1,$0:le},lf);},WithLabelAbove:function(lg){var lh;lh=function(li){var lj,lk,ll,lm,ln,lo;lj=li.Label;if(lj.$==0){ll=f.Span($.New(n,{$:0}));}else{lm=lj.$0;ll=lm(null);}lk=ll;ln=f.Table(g.ofArray([f.TBody(g.ofArray([f.TR(g.ofArray([f.TD(g.ofArray([lk]))])),f.TR(g.ofArray([f.TD(g.ofArray([li.Element]))]))]))]));lo={$:0};return $.New(c,{Element:ln,Label:lo});};return s.MapBody(lh,lg);},WithLabelAndInfo:function(lp,lq,lr){var ls;ls=function(){var lu,lv,lw;lu=g.ofArray([f.Text(lp)]);lv=f.Tags();lw=f.Attr();return x.InTable(g.ofArray([g.ofArray([lv.NewTag("label",lu),f.Span(g.ofArray([lw.NewAttr("title",lq),f.Attr().Class("infoIcon")]))])]));};return P.WithLabel(ls,lr);},WithLabelConfiguration:function(lx,ly){var lz,lA;lz=s.ApplyLayout(ly);lA=r.Layout().LabelLayout(lx);return s.WithLayout(lA,lz);},WithLabelLeft:function(lB){var lC;lC=function(lD){var lE,lF,lG,lH,lI,lJ;lE=lD.Label;if(lE.$==0){lG=f.Span($.New(n,{$:0}));}else{lH=lE.$0;lG=lH(null);}lF=lG;lI=f.Table(g.ofArray([f.TBody(g.ofArray([f.TR(g.ofArray([f.TD(g.ofArray([lD.Element])),f.TD(g.ofArray([lF]))]))]))]));lJ={$:0};return $.New(c,{Element:lI,Label:lJ});};return s.MapBody(lC,lB);},WithLegend:function(lK,lL){var lM;lM=function(lN){var lO,lP,lQ,lR,lS,lT,lU,lV;lP=g.ofArray([f.Tags().text(lK)]);lQ=f.Tags();lR=lN.Label;if(lR.$==0){lS=lN.Element;}else{lT=lR.$0;lS=x.InTable(g.ofArray([g.ofArray([lT(null),lN.Element])]));}lO=g.ofArray([lQ.NewTag("legend",lP),lS]);lU=f.Tags();lV=lU.NewTag("fieldset",lO);return $.New(c,{Element:lV,Label:{$:0}});};return s.MapBody(lM,lL);},WithResetAction:function(lW,lX){var lY,l3,l4,l5,l6;lY=function(){var l0,l1;l0=lX.Build();l1=function(l2){return lW(null)?l0.Notify.call(null,l2):null;};return $.New(A,{Body:l0.Body,Dispose1:l0.Dispose1,Notify:l1,State:l0.State});};l3=s.New(lY);l4=lX.get_Layout();l5=s.WithLayout(l4,l3);l6=r.PropagateRenderFrom(lX,l5);return r.OfIFormlet(l6);},WithResetButton:function(l7){return P.WithCustomResetButton(Q.get_Default(),l7);},WithResetFormlet:function(l8,l9){var l_,l$,ma,mb,mc,md,me,mf,mh,mn,mo;l_=s.WithLayoutOrDefault(l8);l$=s.ApplyLayout(l_);ma=s.InitWithFailure(l$);mb=s.LiftResult(ma);mc=s.WithNotificationChannel(mb);md=s.LiftResult(l9);me=s.Do();mf=function(mg){return m.Join(mg);};mh=me.Delay(function(){return me.Bind(mc,function(mj){var mk,ml;mk=mj[0];ml=mj[1];return me.Bind(md,function(mm){mm.$==0?ml(null):null;return me.Return(mk);});});});mn=s.MapResult(mf,mh);mo=r.PropagateRenderFrom(mc,mn);return r.OfIFormlet(mo);},WithRowConfiguration:function(mp,mq){var mr,ms;mr=s.ApplyLayout(mq);ms=r.Layout().RowLayout(mp);return s.WithLayout(ms,mr);},WithSubmitAndReset:function(mt,mu){var mv,mw,mE;mv=s.Do();mw=mv.Delay(function(){var my,mz;my=s.InitWithFailure(mt);mz=s.LiftResult(my);return mv.Bind(s.WithNotificationChannel(mz),function(mA){var mB,mC;mB=mA[0];mC=mA[1];return mv.ReturnFrom((mu(function(mD){return mC(mD);}))(mB));});});mE=r.PropagateRenderFrom(mt,mw);return r.OfIFormlet(mE);},WithSubmitAndResetButtons:function(mF){var mG,mH,mI,mJ;mG=Q.get_Default();mH=$.New(Q,{Label:{$:1,$0:"Submit"},Style:mG.Style,Class:mG.Class});mI=Q.get_Default();mJ=$.New(Q,{Label:{$:1,$0:"Reset"},Style:mI.Style,Class:mI.Class});return P.WithCustomSubmitAndResetButtons(mH,mJ,mF);},WithSubmitButton:function(mK){return P.WithCustomSubmitButton(Q.get_Default(),mK);},WithSubmitFormlet:function(mL,mM){var mN,mO,mQ,mV,mW;mN=s.Do();mO=function(mP){return m.Join(mP);};mQ=mN.Delay(function(){var mS;mS=s.InitWithFailure(mL);return mN.Bind(s.LiftResult(mS),function(mT){return mN.Bind(mM(mT),function(){return mN.Return(mT);});});});mV=s.MapResult(mO,mQ);mW=r.PropagateRenderFrom(mL,mV);return r.OfIFormlet(mW);},WithTextLabel:function(mX,mY){return P.WithLabel(function(){var m0,m1;m0=g.ofArray([f.Text(mX)]);m1=f.Tags();return m1.NewTag("label",m0);},mY);},WithValidationFrame:function(m2){return P.WithCustomValidationFrame(U.get_Default(),m2);},WithValidationIcon:function(m3){return P.WithCustomValidationIcon(V.get_Default(),m3);},WrapFormlet:function(m4,m5){var m6;m6=function(){var m8,m9,m_,m$,na;m8=s.WithLayoutOrDefault(m5);m9=s.BuildForm(m8);m_=m8.get_Layout().Apply.call(null,m9.Body).$0;m_[1];m$=m_[0];na=(m4(m9.State))(m$);return[na,function(){return m9.Notify.call(null,null);},m9.State];};return r.MkFormlet(m6);}},Formlet:{ApplyLayout:function(nc){var nd,ne;nd=r.BaseFormlet().ApplyLayout(nc);ne=r.PropagateRenderFrom(nc,nd);return r.OfIFormlet(ne);},Bind:function(nf,ng){var nh,ni,nl,nm;nh=r.BaseFormlet();ni=function(nj){var nk;nk=ng(nj);return nk;};nl=nh.Bind(nf,ni);nm=r.PropagateRenderFrom(nf,nl);return r.OfIFormlet(nm);},BindWith:function(nn,no,np){var nq,nr,nt,nu;nq=r.BaseFormlet();nr=function(ns){return np(ns);};nt=nq.BindWith(nn,no,nr);nu=r.PropagateRenderFrom(no,nt);return r.OfIFormlet(nu);},BuildForm:function(nv){return r.BaseFormlet().BuildForm(nv);},BuildFormlet:function(nw){return r.MkFormlet(nw);},Choose:function(nx){var ny,nz,nF,nG,nH,nW,nX,nZ,n0;ny={contents:0};nz=function(nA){var nB,nD,nE;nB=function(nC){t.Increment(ny);return[nC,ny.contents];};nD=s.Map(nB,nA);nE=s.InitWithFailure(nD);return s.LiftResult(nE);};nF=w.map(nz,nx);nG=s.Sequence(nF);nH=function(nI){var nJ,nN,nQ,nR,nS,nV;nJ=function(nK){var nL,nM;if(nK.$==0){nM=nK.$0;nL={$:1,$0:nM};}else{nL={$:0};}return nL;};nN=function(nO){var nP;nO[0];nP=nO[1];return nP;};nQ=g.choose(nJ,nI);nR=g.sortBy(nN,nQ);nS=function(nT){var nU;nU=nT[0];nT[1];return{$:1,$0:nU};};nV=g.rev(nR);return w.tryPick(nS,nV);};nW=s.Map(nH,nG);nX=function(nY){return nY.$==1;};nZ=r.Validator().Is(nX,"",nW);n0=function(n1){return n1.$0;};return s.Map(n0,nZ);},Delay:function(n2){var n3;n3=r.BaseFormlet().Delay(function(){return n2(null);});return r.OfIFormlet(n3);},Deletable:function(n5){var n6,n7;n6=r.BaseFormlet().Deletable(n5);n7=r.PropagateRenderFrom(n5,n6);return r.OfIFormlet(n7);},Do:$.Field(function(){return X.New();}),Empty:function(){var n8;n8=r.BaseFormlet().Empty();return r.OfIFormlet(n8);},FailWith:function(n9){var n_;n_=r.BaseFormlet().FailWith(n9);return r.OfIFormlet(n_);},FlipBody:function(n$){var oa,ob;oa=r.BaseFormlet().FlipBody(n$);ob=r.PropagateRenderFrom(n$,oa);return r.OfIFormlet(ob);},Flowlet:function(oc){var od,oe,of,og;od=r.BaseFormlet();oe=r.Layout().get_Flowlet();of=od.WithLayout(oe,oc);og=r.PropagateRenderFrom(oc,of);return r.OfIFormlet(og);},Horizontal:function(oh){var oi,oj,ok,ol;oi=r.BaseFormlet();oj=r.Layout().get_Horizontal();ok=oi.WithLayout(oj,oh);ol=r.PropagateRenderFrom(oh,ok);return r.OfIFormlet(ol);},InitWith:function(om,on){var oo,op,oq;oo=r.BaseFormlet();op=oo.InitWith(om,on);oq=r.PropagateRenderFrom(on,op);return r.OfIFormlet(oq);},InitWithFailure:function(or){var os,ot;os=r.BaseFormlet().InitWithFailure(or);ot=r.PropagateRenderFrom(or,os);return r.OfIFormlet(ot);},Join:function(ou){var ov,ox,oy,oz,oA;ov=function(ow){return ow;};ox=s.Map(ov,ou);oy=r.BaseFormlet();oz=oy.Join(ox);oA=r.PropagateRenderFrom(ou,oz);return r.OfIFormlet(oA);},LiftResult:function(oB){var oC,oD;oC=r.BaseFormlet().LiftResult(oB);oD=r.PropagateRenderFrom(oB,oC);return r.OfIFormlet(oD);},Map:function(oE,oF){var oG,oH,oI;oG=r.BaseFormlet();oH=oG.Map(oE,oF);oI=r.PropagateRenderFrom(oF,oH);return r.OfIFormlet(oI);},MapBody:function(oJ,oK){var oL,oM,oN;oL=r.BaseFormlet();oM=oL.MapBody(oJ,oK);oN=r.PropagateRenderFrom(oK,oM);return r.OfIFormlet(oN);},MapElement:function(oO,oP){var oQ,oR,oT,oU;oQ=r.BaseFormlet();oR=function(oS){return $.New(c,{Element:oO(oS.Element),Label:oS.Label});};oT=oQ.MapBody(oR,oP);oU=r.PropagateRenderFrom(oP,oT);return r.OfIFormlet(oU);},MapResult:function(oV,oW){var oX,oY,oZ;oX=r.BaseFormlet();oY=oX.MapResult(oV,oW);oZ=r.PropagateRenderFrom(oW,oY);return r.OfIFormlet(oZ);},Never:function(){var o0;o0=r.BaseFormlet().Never();return r.OfIFormlet(o0);},New:function(o1){var o2;o2=r.BaseFormlet().New(o1);return r.OfIFormlet(o2);},OfElement:function(o3){var o4;o4=function(){var o6;o6=o3(null);return[o6,function(){},r.RX().Return($.New(m,{$:0,$0:null}))];};return r.MkFormlet(o4);},Render:function(o8){var o9;o9=o8.Run(function(){});return r.PropagateRenderFrom(o8,o9);},Replace:function(o$,pa){var pb,pc,pe,pf;pb=r.BaseFormlet();pc=function(pd){return pa(pd);};pe=pb.Replace(o$,pc);pf=r.PropagateRenderFrom(o$,pe);return r.OfIFormlet(pf);},ReplaceFirstWithFailure:function(pg){var ph,pi;ph=r.BaseFormlet().ReplaceFirstWithFailure(pg);pi=r.PropagateRenderFrom(pg,ph);return r.OfIFormlet(pi);},Return:function(pj){var pk;pk=r.BaseFormlet().Return(pj);return r.OfIFormlet(pk);},ReturnEmpty:function(pl){var pm;pm=r.BaseFormlet().ReturnEmpty(pl);return r.OfIFormlet(pm);},Run:function(pn,po){return po.Run(pn);},SelectMany:function(pp){var pq,ps,pt,pu,pv;pq=function(pr){return pr;};ps=s.Map(pq,pp);pt=r.BaseFormlet();pu=pt.SelectMany(ps);pv=r.PropagateRenderFrom(pp,pu);return r.OfIFormlet(pv);},Sequence:function(pw){var px,pz,pA,pB;px=function(py){return py;};pz=w.map(px,pw);pA=r.BaseFormlet();pB=pA.Sequence(pz);return r.OfIFormlet(pB);},Switch:function(pC){var pD,pF,pG,pH,pI;pD=function(pE){return pE;};pF=s.Map(pD,pC);pG=r.BaseFormlet();pH=pG.Switch(pF);pI=r.PropagateRenderFrom(pC,pH);return r.OfIFormlet(pI);},Vertical:function(pJ){var pK,pL,pM,pN;pK=r.BaseFormlet();pL=r.Layout().get_Vertical();pM=pK.WithLayout(pL,pJ);pN=r.PropagateRenderFrom(pJ,pM);return r.OfIFormlet(pN);},WithCancelation:function(pO,pP){var pQ,pR,pS;pQ=r.BaseFormlet();pR=pQ.WithCancelation(pO,pP);pS=r.PropagateRenderFrom(pO,pR);return r.OfIFormlet(pS);},WithLabel:function(pT,pU){var pV,pW,pY,pZ;pV=r.BaseFormlet();pW=function(pX){return $.New(c,{Element:pX.Element,Label:pT});};pY=pV.MapBody(pW,pU);pZ=r.PropagateRenderFrom(pU,pY);return r.OfIFormlet(pZ);},WithLayout:function(p0,p1){var p2,p3,p4;p2=r.BaseFormlet();p3=p2.WithLayout(p0,p1);p4=r.PropagateRenderFrom(p1,p3);return r.OfIFormlet(p4);},WithLayoutOrDefault:function(p5){var p6,p7;p6=r.BaseFormlet().WithLayoutOrDefault(p5);p7=r.PropagateRenderFrom(p5,p6);return r.OfIFormlet(p7);},WithNotification:function(p8,p9){var p_,p$,qa;p_=r.BaseFormlet();p$=p_.WithNotification(p8,p9);qa=r.PropagateRenderFrom(p9,p$);return r.OfIFormlet(qa);},WithNotificationChannel:function(qb){var qc,qd;qc=r.BaseFormlet().WithNotificationChannel(qb);qd=r.PropagateRenderFrom(qb,qc);return r.OfIFormlet(qd);}},FormletBuilder:$.Class({Bind:function(qe,qf){var qg,qh,qk,ql;qg=r.BaseFormlet();qh=function(qi){var qj;qj=qf(qi);return qj;};qk=qg.Bind(qe,qh);ql=r.PropagateRenderFrom(qe,qk);return r.OfIFormlet(ql);},Delay:function(qm){var qn;qn=r.BaseFormlet().Delay(function(qo){return qm(qo);});return r.OfIFormlet(qn);},Return:function(qp){var qq;qq=r.BaseFormlet().Return(qp);return r.OfIFormlet(qq);},ReturnFrom:function(qr){return r.OfIFormlet(qr);}},{New:function(){return $.New(this,{});}}),Layout:{FormRowConfiguration:$.Class({},{get_Default:function(){return $.New(Z,{Padding:{$:0},Color:{$:0},Class:{$:0},Style:{$:0},LabelConfiguration:{$:0}});}}),LabelConfiguration:$.Class({},{get_Default:function(){return $.New(_0,{Align:{$:0},VerticalAlign:{$:1},Placement:{$:0}});}}),Padding:$.Class({},{get_Default:function(){return $.New(_1,{Left:{$:0},Right:{$:0},Top:{$:0},Bottom:{$:0}});}})},LayoutProvider:$.Class({ColumnLayout:function(qs){var qt,qu,qE=this;qt=this.LayoutUtils;qu=function(){var qw,qx,qy,qz,qL;qw=f.TR($.New(n,{$:0}));qx=f.Table(g.ofArray([f.TBody(g.ofArray([qw]))]));qy=O.NewElementStore();qz=function(qA){return function(qB){var qC,qD,qF,qG,qH;qC=qB.Element.get_Id();qD=f.TD(g.ofArray([f.Table(g.ofArray([f.TBody(g.ofArray([qE.MakeRow(qs,qA,qB)]))]))]));qF=p(qw.get_Body());qG={contents:0};qH={contents:false};qF.children().each(function(){var qI,qJ;qI=p(this);if(qA===qG.contents){p(qD.get_Body()).insertBefore(qI);qD.Render();qJ=void(qH.contents=true);}else{qJ=null;}return t.Increment(qG);});!qH.contents?qw.AppendI(qD):null;return qy.RegisterElement(qC,function(){return qD["HtmlProvider@33"].Remove(qD.get_Body());});};};qL=function(qM){var qN,qO;qN=_2.Get(qM);while(qN.MoveNext()){qO=qN.get_Current();qy.Remove(qO.Element.get_Id());}return;};return{Body:$.New(c,{Element:qx,Label:{$:0}}),SyncRoot:null,Insert:qz,Remove:qL};};return qt.New(qu);},HorizontalAlignElem:function(qP,qQ){var qR,qS,qT;qR=qP.$==0?"left":"right";qS=f.Attr();qT="float:"+qR+";";return o.add(f.Div(g.ofArray([qS.NewAttr("style",qT)])),g.ofArray([qQ]));},LabelLayout:function(qU){var qV,qW;qV=Z.get_Default();qW={$:1,$0:qU};return this.RowLayout($.New(Z,{Padding:qV.Padding,Color:qV.Color,Class:qV.Class,Style:qV.Style,LabelConfiguration:qW}));},MakeLayout:function(qX){var qY,qZ;qY=this.LayoutUtils;qZ=function(){var q1,q2,q3,q$;q1=qX(null);q2=O.NewElementStore();q3=function(q4){return function(q5){var q6,q7;q6=q5.Element.get_Id();q7=(q1.Insert.call(null,q4))(q5);return q2.RegisterElement(q6,function(){var q9,q_;q9=_2.Get(q7);while(q9.MoveNext()){q_=q9.get_Current();q_["HtmlProvider@33"].Remove(q_.get_Body());}return;});};};q$=function(ra){var rb,rc;rb=_2.Get(ra);while(rb.MoveNext()){rc=rb.get_Current();q2.Remove(rc.Element.get_Id());}return;};return{Body:$.New(c,{Element:q1.Panel,Label:{$:0}}),SyncRoot:null,Insert:q3,Remove:q$};};return qY.New(qZ);},MakeRow:function(rd,re,rf){var rg,rh,ri,rk,rl,rn,ro,rp,rr,rs,rt,rv,rw,rx,rz,rA,rB,r6,r7,r8,r9,r_,r$,sa,sb,sd,se,sf,sg,sh,si,sj,sk,sl,sm,sn,sq,sr,ss,st,sw,sx,sy,sz,sB,sC,sD,sE,sF,sI,sJ,sK,sL;rg=rd.Padding;rh=_1.get_Default();ri=function(rj){return rj;};rk=x.Maybe(rh,ri,rg);rl=function(rm){return rm;};rn=rk.Left;ro=x.Maybe(0,rl,rn);rp=function(rq){return rq;};rr=rk.Top;rs=x.Maybe(0,rp,rr);rt=function(ru){return ru;};rv=rk.Right;rw=x.Maybe(0,rt,rv);rx=function(ry){return ry;};rz=rk.Bottom;rA=x.Maybe(0,rx,rz);rB=function(rC){return function(rD){return function(rE){return function(rF){return function(rG){return function(rH){return function(rI){var rJ,rN,rQ,rR,rS,rT,rW,rX,rY,rZ,r0,r1,r2,r3,r4,r5;rJ=function(rK){var rL,rM;rL=rK[0];rM=rK[1];return rL+$$.String(rM)+"px;";};rN=function(rO){return function(rP){return rO+rP;};};rQ=g.ofArray([["padding-left: ",rC],["padding-top: ",rD],["padding-right: ",rE],["padding-bottom: ",rF]]);rR=g.map(rJ,rQ);rS=w.reduce(rN,rR);rT=function(rU){var rV;rV=rU.$==1?"middle":rU.$==2?"bottom":"top";return"vertical-align: "+rV+";";};rW=x.Maybe("",rT,rH);rX=f.Attr();rY=rS+";"+rW;rZ=rX.NewAttr("style",rY);if(rG){r2=f.Attr();r1=g.ofArray([r2.NewAttr("colspan","2")]);}else{r1=$.New(n,{$:0});}r0=r1;r3=$.New(n,{$:1,$0:rZ,$1:r0});r4=g.ofArray([rI]);r5=g.append(r3,r4);return f.TD(r5);};};};};};};};r6=rf.Element;r7=rf.Label;if(r7.$==1){r_=r7.$0;r$=rd.LabelConfiguration;sa=_0.get_Default();sb=function(sc){return sc;};sd=x.Maybe(sa,sb,r$);se=sd.Align;sf=r_(null);sg=this.HorizontalAlignElem(se,sf);sh=sd.Placement;if(sh.$==3){sj=x.InTable(g.ofArray([g.ofArray([r6]),g.ofArray([sg])]));si=g.ofArray([((((((rB(ro))(rs))(rw))(rA))(true))({$:0}))(sj)]);}else{if(sh.$==0){si=g.ofArray([((((((rB(ro))(rs))(0))(rA))(false))({$:1,$0:sd.VerticalAlign}))(sg),((((((rB(0))(rs))(rw))(rA))(false))({$:0}))(r6)]);}else{if(sh.$==1){si=g.ofArray([((((((rB(ro))(rs))(0))(rA))(false))({$:1,$0:sd.VerticalAlign}))(r6),((((((rB(0))(rs))(rw))(rA))(false))({$:0}))(sg)]);}else{sk=x.InTable(g.ofArray([g.ofArray([sg]),g.ofArray([r6])]));si=g.ofArray([((((((rB(ro))(rs))(rw))(rA))(true))({$:0}))(sk)]);}}}r9=si;}else{r9=g.ofArray([((((((rB(ro))(rs))(rw))(rA))(true))({$:0}))(r6)]);}r8=r9;sl=rd.Class;sm=$.New(n,{$:0});sn=function(so){var sp;sp=so(re);return g.ofArray([f.Attr().Class(sp)]);};sq=x.Maybe(sm,sn,sl);sr=rd.Color;ss=$.New(n,{$:0});st=function(su){var sv;sv=su(re);return g.ofArray(["background-color: "+sv]);};sw=x.Maybe(ss,st,sr);sx=rd.Style;sy=$.New(n,{$:0});sz=function(sA){return g.ofArray([sA(re)]);};sB=x.Maybe(sy,sz,sx);sC=g.append(sw,sB);if(sC.$==0){sE=$.New(n,{$:0});}else{sF=w.reduce(function(sG){return function(sH){return sG+";"+sH;};},sC);sI=f.Attr();sE=g.ofArray([sI.NewAttr("style",sF)]);}sD=sE;sJ=g.append(sD,r8);sK=g.append(sD,sJ);sL=g.append(sq,sK);return f.TR(sL);},RowLayout:function(sM){var sN,sO,sY=this;sN=this.LayoutUtils;sO=function(){var sQ,sR,sS,sT,s5;sQ=f.TBody($.New(n,{$:0}));sR=f.Table(g.ofArray([sQ]));sS=O.NewElementStore();sT=function(sU){return function(sV){var sW,sX,sZ,s0,s1;sW=sV.Element.get_Id();sX=sY.MakeRow(sM,sU,sV);sZ=p(sQ.get_Body());s0={contents:0};s1={contents:false};sZ.children().each(function(){var s2,s3;s2=p(this);if(sU===s0.contents){p(sX.get_Body()).insertBefore(s2);sX.Render();s3=void(s1.contents=true);}else{s3=null;}return t.Increment(s0);});!s1.contents?sQ.AppendI(sX):null;return sS.RegisterElement(sW,function(){return sX["HtmlProvider@33"].Remove(sX.get_Body());});};};s5=function(s6){var s7,s8;s7=_2.Get(s6);while(s7.MoveNext()){s8=s7.get_Current();sS.Remove(s8.Element.get_Id());}return;};return{Body:$.New(c,{Element:sR,Label:{$:0}}),SyncRoot:null,Insert:sT,Remove:s5};};return sN.New(sO);},VerticalAlignedTD:function(s9,s_){var s$,ta,tb,tc;s$=s9.$==1?"middle":s9.$==2?"bottom":"top";ta=f.TD(g.ofArray([s_]));tb=ta["HtmlProvider@33"];tc=ta.get_Body();tb.SetCss(tc,"vertical-align",s$);return ta;},get_Flowlet:function(){var td;td=function(){var tf,tg;tf=f.Div($.New(n,{$:0}));tg=function(){return function(ti){var tj,tk;tj=ti.Label.$==1?ti.Label.$0.call(null,null):f.Span($.New(n,{$:0}));tk=x.InTable(g.ofArray([g.ofArray([tj,f.Div(g.ofArray([ti.Element]))])]));tf["HtmlProvider@33"].Clear(tf.get_Body());tf.AppendI(tk);return g.ofArray([tk]);};};return{Insert:tg,Panel:tf};};return this.MakeLayout(td);},get_Horizontal:function(){return this.ColumnLayout(Z.get_Default());},get_Vertical:function(){return this.RowLayout(Z.get_Default());}},{New:function(tl){var tm;tm=$.New(this,{});tm.LayoutUtils=tl;return tm;}}),Utils:{InTable:function(tn){var to,tt,tu;to=function(tp){var tq,ts;tq=function(tr){return f.TD(g.ofArray([tr]));};ts=g.map(tq,tp);return f.TR(ts);};tt=g.map(to,tn);tu=f.TBody(tt);return f.Table(g.ofArray([tu]));},MapOption:function(tv,tw){var tx,ty;if(tw.$==1){ty=tw.$0;tx={$:1,$0:tv(ty)};}else{tx={$:0};}return tx;},Maybe:function(tz,tA,tB){var tC,tD;if(tB.$==0){tC=tz;}else{tD=tB.$0;tC=tA(tD);}return tC;}}}}}});$.OnInit(function(){a=$.Safe($$.IntelliFactory.WebSharper);b=$.Safe(a.Formlets);c=$.Safe(b.Body);d=$.Safe(a.Html);e=$.Safe(d.Client);f=$.Safe(e.Default);g=$.Safe(a.List);h=$.Safe(b.Controls);i=$.Safe($$.IntelliFactory.Reactive);j=$.Safe(i.HotStream);k=$.Safe($$.IntelliFactory.Formlets);l=$.Safe(k.Base);m=$.Safe(l.Result);n=$.Safe(g.T);o=$.Safe(e.Operators);p=$.Safe($$.jQuery);q=$.Safe(e.EventsPervasives);r=$.Safe(b.Data);s=$.Safe(b.Formlet);t=$.Safe(a.Operators);u=$.Safe(b.CssConstants);v=$.Safe($$.Math);w=$.Safe(a.Seq);x=$.Safe(b.Utils);y=$.Safe(l.Tree);z=$.Safe(y.Edit);A=$.Safe(l.Form);B=$.Safe(a.Arrays);C=$.Safe(l.FormletProvider);D=$.Safe(r.Formlet);E=$.Safe(e.Pagelet);F=$.Safe(a.Util);G=$.Safe(b.LayoutProvider);H=$.Safe(l.LayoutUtils);I=$.Safe(i.Reactive);J=$.Safe(l.Validator);K=$.Safe(r.ValidatorProvidor);L=$.Safe($$.RegExp);M=$.Safe(a.Collections);N=$.Safe(M.Dictionary);O=$.Safe(b.ElementStore);P=$.Safe(b.Enhance);Q=$.Safe(P.FormButtonConfiguration);R=$.Safe(P.FormContainerConfiguration);S=$.Safe(P.Padding);T=$.Safe(P.ManyConfiguration);U=$.Safe(P.ValidationFrameConfiguration);V=$.Safe(P.ValidationIconConfiguration);W=$.Safe($$.JSON);X=$.Safe(b.FormletBuilder);Y=$.Safe(b.Layout);Z=$.Safe(Y.FormRowConfiguration);_0=$.Safe(Y.LabelConfiguration);_1=$.Safe(Y.Padding);return _2=$.Safe(a.Enumerator);});$.OnLoad(function(){$.Inherit(D,E);s.Do();r.Validator();r.RX();r.Layout();r.DefaultLayout();u.InputTextClass();return;});}());
